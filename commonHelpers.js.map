{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const makeGalleryMarkup = hits => {\n  return hits\n    .map(\n      ({\n        webformatURL,\n        tags,\n        largeImageURL,\n        views,\n        comments,\n        downloads,\n        likes,\n      }) => {\n        return `<li><a href=${largeImageURL}> \n        <img src=${webformatURL} alt=${tags} width=\"300\"></a>\n        <div>\n        <p>likes: ${likes}</p>\n        <p>likes: ${downloads}</p>\n        <p>likes: ${comments}</p>\n        <p>likes: ${views}</p></div>\n      </li>`;\n      }\n    )\n    .join('');\n};\n\nexport default makeGalleryMarkup;\n","const apiKey = '42467194-b110ad867f5196c7e5e9f8f90';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst fetchImages = query => {\n  return fetch(\n    `${BASE_URL}?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal=horizontal&safesearch=true`\n  ).then(respons => {\n    if (!respons.ok) {\n      return;\n    }\n    return respons.json();\n  });\n};\n\nexport default fetchImages;\n","import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\n\nimport makeGalleryMarkup from './js/render-functions';\nimport fetchImages from './js/pixabay-api';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst formRef = document.querySelector('.searchForm');\nconst loaderRef = document.querySelector('.loader');\nconst galleryRef = document.querySelector('.gallery');\n\nlet lightbox = new SimpleLightbox('.gallery a', {});\n\nformRef.addEventListener('submit', onFormSearchSubmit);\nfunction onFormSearchSubmit(e) {\n  e.preventDefault();\n  const query = e.target.elements.searchQuery.value.trim();\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'input please your request',\n      position: 'topRight',\n      timeout: 3000,\n      maxWidth: '400px',\n    });\n    return;\n  }\n  loaderRef.style.display = 'inline-block';\n  galleryRef.innerHTML = '';\n  e.target.elements.searchQuery.value = '';\n  fetchImages(query)\n    .then(({ hits }) => {\n      if (!hits.length) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 3000,\n          maxWidth: '400px',\n        });\n\n        return;\n      }\n      const markup = makeGalleryMarkup(hits);\n\n      galleryRef.innerHTML = markup;\n      lightbox.refresh();\n    })\n    .catch(error =>\n      iziToast.error({\n        title: 'Error',\n        message: error.message,\n        position: 'topRight',\n        timeout: 3000,\n        maxWidth: '400px',\n      })\n    )\n    .finally(() => {\n      loaderRef.style.display = 'none';\n      console.log('none');\n    });\n}\n"],"names":["makeGalleryMarkup","hits","webformatURL","tags","largeImageURL","views","comments","downloads","likes","apiKey","BASE_URL","fetchImages","query","respons","formRef","loaderRef","galleryRef","lightbox","SimpleLightbox","onFormSearchSubmit","e","iziToast","markup","error"],"mappings":"6vBAAA,MAAMA,EAAoBC,GACjBA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,KAAAC,EACA,cAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,MAAAC,CACR,IACe,eAAeJ,CAAa;AAAA,mBACxBF,CAAY,QAAQC,CAAI;AAAA;AAAA,oBAEvBK,CAAK;AAAA,oBACLD,CAAS;AAAA,oBACTD,CAAQ;AAAA,oBACRD,CAAK;AAAA,YAGpB,EACA,KAAK,EAAE,ECtBNI,EAAS,qCACTC,EAAW,2BAEXC,EAAcC,GACX,MACL,GAAGF,CAAQ,QAAQD,CAAM,MAAMG,CAAK,qEACxC,EAAI,KAAKC,GAAW,CAChB,GAAKA,EAAQ,GAGb,OAAOA,EAAQ,MACnB,CAAG,ECFGC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAY,SAAS,cAAc,SAAS,EAC5CC,EAAa,SAAS,cAAc,UAAU,EAEpD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAAE,CAAA,EAElDJ,EAAQ,iBAAiB,SAAUK,CAAkB,EACrD,SAASA,EAAmBC,EAAG,CAC7BA,EAAE,eAAc,EAChB,MAAMR,EAAQQ,EAAE,OAAO,SAAS,YAAY,MAAM,OAClD,GAAI,CAACR,EAAO,CACVS,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4BACT,SAAU,WACV,QAAS,IACT,SAAU,OAChB,CAAK,EACD,MACD,CACDN,EAAU,MAAM,QAAU,eAC1BC,EAAW,UAAY,GACvBI,EAAE,OAAO,SAAS,YAAY,MAAQ,GACtCT,EAAYC,CAAK,EACd,KAAK,CAAC,CAAE,KAAAX,KAAW,CAClB,GAAI,CAACA,EAAK,OAAQ,CAChBoB,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,WACV,QAAS,IACT,SAAU,OACpB,CAAS,EAED,MACD,CACD,MAAMC,EAAStB,EAAkBC,CAAI,EAErCe,EAAW,UAAYM,EACvBL,EAAS,QAAO,CACtB,CAAK,EACA,MAAMM,GACLF,EAAS,MAAM,CACb,MAAO,QACP,QAASE,EAAM,QACf,SAAU,WACV,QAAS,IACT,SAAU,OAClB,CAAO,CACF,EACA,QAAQ,IAAM,CACbR,EAAU,MAAM,QAAU,OAC1B,QAAQ,IAAI,MAAM,CACxB,CAAK,CACL"}